{"version":3,"sources":["../../src/dto/kakao-callback.dto.ts"],"sourcesContent":["import { IsNotEmpty, IsString } from 'class-validator';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { Provider } from '../types';\n\n// 카카오 프로필 정보 타입\nexport interface KakaoProfile {\n  nickname: string;\n  profile_image_url?: string;\n}\n\n// 카카오 계정 정보 타입\nexport interface KakaoAccount {\n  profile: KakaoProfile;\n  email?: string;\n  has_email?: boolean;\n}\n\n// 카카오 API 응답 타입\nexport interface KakaoResponse {\n  userId: string;\n  nickname: string;\n  email: string | null;\n  profileImageUrl: string | null;\n  provider: string;\n  providerId: string;\n}\n\n// 인증 응답 사용자 정보 타입\nexport interface AuthUser {\n  userId: string;\n  provider: Provider;\n  nickname?: string;\n  isAdmin?: boolean;\n}\n\nexport class KakaoCallbackDto {\n  @ApiProperty({\n    description: '카카오 OAuth 인가 코드',\n    example: 'authorization_code_from_kakao',\n  })\n  @IsNotEmpty()\n  @IsString()\n  code: string;\n}\n\nexport class KakaoUserInfo {\n  @ApiProperty({\n    description: '사용자 ID (kakao_ 접두사 포함)',\n    example: 'kakao_4546512331',\n  })\n  userId: string;\n\n  @ApiProperty({\n    description: '사용자 닉네임',\n    example: '카카오 사용자',\n  })\n  nickname: string;\n\n  @ApiProperty({\n    description: '사용자 이메일',\n    example: 'user@kakao.com',\n    nullable: true,\n  })\n  email: string | null;\n\n  @ApiProperty({\n    description: '프로필 이미지 URL',\n    example: 'https://k.kakaocdn.net/...',\n    nullable: true,\n  })\n  profileImageUrl: string | null;\n\n  @ApiProperty({\n    description: 'OAuth 제공자',\n    example: 'KAKAO',\n  })\n  provider: Provider;\n\n  @ApiProperty({\n    description: '제공자별 사용자 ID',\n    example: '4546512331',\n  })\n  providerId: string;\n}\n\nexport class AuthResponseDto {\n  @ApiProperty({\n    description: '인증 성공 여부',\n    example: true,\n  })\n  success: boolean;\n\n  @ApiProperty({\n    description: '사용자 정보',\n    type: 'object',\n    properties: {\n      id: { type: 'string', example: 'kakao_123456789' },\n      nickname: { type: 'string', example: '카카오 사용자' },\n      email: { type: 'string', example: 'user@kakao.com' },\n      profileImageUrl: { type: 'string', example: 'https://...' },\n      provider: { type: 'string', example: 'kakao' },\n      providerId: { type: 'string', example: '123456789' },\n    },\n  })\n  user: AuthUser;\n\n  @ApiProperty({\n    description: 'JWT 액세스 토큰',\n    example: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...',\n  })\n  accessToken: string;\n\n  @ApiProperty({\n    description: 'JWT 리프레시 토큰',\n    example: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...',\n  })\n  refreshToken: string;\n\n  @ApiProperty({\n    description: '응답 메시지',\n    example: '로그인 성공',\n  })\n  message: string;\n}\n"],"names":["AuthResponseDto","KakaoCallbackDto","KakaoUserInfo","description","example","nullable","type","properties","id","nickname","email","profileImageUrl","provider","providerId"],"mappings":";;;;;;;;;;;QAqFaA;eAAAA;;QAlDAC;eAAAA;;QAUAC;eAAAA;;;gCA7CwB;yBACT;uBACH;;;;;;;;;;AAiClB,IAAA,AAAMD,mBAAN,MAAMA;AAQb;;;QANIE,aAAa;QACbC,SAAS;;;;;;AAON,IAAA,AAAMF,gBAAN,MAAMA;AAsCb;;;QApCIC,aAAa;QACbC,SAAS;;;;;;QAKTD,aAAa;QACbC,SAAS;;;;;;QAKTD,aAAa;QACbC,SAAS;QACTC,UAAU;;;;;;QAKVF,aAAa;QACbC,SAAS;QACTC,UAAU;;;;;;QAKVF,aAAa;QACbC,SAAS;;;;;;QAKTD,aAAa;QACbC,SAAS;;;;AAKN,IAAA,AAAMJ,kBAAN,MAAMA;AAsCb;;;QApCIG,aAAa;QACbC,SAAS;;;;;;QAKTD,aAAa;QACbG,MAAM;QACNC,YAAY;YACVC,IAAI;gBAAEF,MAAM;gBAAUF,SAAS;YAAkB;YACjDK,UAAU;gBAAEH,MAAM;gBAAUF,SAAS;YAAU;YAC/CM,OAAO;gBAAEJ,MAAM;gBAAUF,SAAS;YAAiB;YACnDO,iBAAiB;gBAAEL,MAAM;gBAAUF,SAAS;YAAc;YAC1DQ,UAAU;gBAAEN,MAAM;gBAAUF,SAAS;YAAQ;YAC7CS,YAAY;gBAAEP,MAAM;gBAAUF,SAAS;YAAY;QACrD;;;;;;QAKAD,aAAa;QACbC,SAAS;;;;;;QAKTD,aAAa;QACbC,SAAS;;;;;;QAKTD,aAAa;QACbC,SAAS"}