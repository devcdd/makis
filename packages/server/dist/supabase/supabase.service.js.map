{"version":3,"sources":["../../src/supabase/supabase.service.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\nimport { ConfigService } from '@nestjs/config';\nimport { createClient, SupabaseClient } from '@supabase/supabase-js';\nimport { MESSAGES } from '../constants/messages';\n\n@Injectable()\nexport class SupabaseService {\n  private supabase: SupabaseClient;\n\n  constructor(private configService: ConfigService) {\n    const supabaseUrl = this.configService.get<string>('SUPABASE_URL');\n    const supabaseKey = this.configService.get<string>('SUPABASE_ANON_KEY');\n\n    console.log('=== SupabaseService 초기화 ===');\n    console.log('SUPABASE_URL:', supabaseUrl);\n    console.log('SUPABASE_URL 존재:', !!supabaseUrl);\n    console.log('SUPABASE_ANON_KEY 존재:', !!supabaseKey);\n    console.log('SUPABASE_ANON_KEY 길이:', supabaseKey?.length);\n    console.log('SUPABASE_ANON_KEY 앞 10자:', supabaseKey?.substring(0, 10));\n\n    if (!supabaseUrl || !supabaseKey) {\n      throw new Error(MESSAGES.MISSING_SUPABASE_ENV_VARS);\n    }\n\n    this.supabase = createClient(supabaseUrl, supabaseKey) as SupabaseClient;\n    console.log('Supabase 클라이언트 생성 완료');\n  }\n\n  getClient(): SupabaseClient {\n    return this.supabase;\n  }\n}\n"],"names":["SupabaseService","getClient","supabase","configService","supabaseUrl","get","supabaseKey","console","log","length","substring","Error","MESSAGES","MISSING_SUPABASE_ENV_VARS","createClient"],"mappings":";;;;+BAMaA;;;eAAAA;;;wBANc;wBACG;4BACe;0BACpB;;;;;;;;;;AAGlB,IAAA,AAAMA,kBAAN,MAAMA;IAsBXC,YAA4B;QAC1B,OAAO,IAAI,CAACC,QAAQ;IACtB;IArBA,YAAY,AAAQC,aAA4B,CAAE;aAA9BA,gBAAAA;QAClB,MAAMC,cAAc,IAAI,CAACD,aAAa,CAACE,GAAG,CAAS;QACnD,MAAMC,cAAc,IAAI,CAACH,aAAa,CAACE,GAAG,CAAS;QAEnDE,QAAQC,GAAG,CAAC;QACZD,QAAQC,GAAG,CAAC,iBAAiBJ;QAC7BG,QAAQC,GAAG,CAAC,oBAAoB,CAAC,CAACJ;QAClCG,QAAQC,GAAG,CAAC,yBAAyB,CAAC,CAACF;QACvCC,QAAQC,GAAG,CAAC,yBAAyBF,aAAaG;QAClDF,QAAQC,GAAG,CAAC,4BAA4BF,aAAaI,UAAU,GAAG;QAElE,IAAI,CAACN,eAAe,CAACE,aAAa;YAChC,MAAM,IAAIK,MAAMC,kBAAQ,CAACC,yBAAyB;QACpD;QAEA,IAAI,CAACX,QAAQ,GAAGY,IAAAA,wBAAY,EAACV,aAAaE;QAC1CC,QAAQC,GAAG,CAAC;IACd;AAKF"}